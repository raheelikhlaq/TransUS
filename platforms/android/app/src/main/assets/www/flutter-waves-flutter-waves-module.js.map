{"version":3,"sources":["./src/app/flutter-waves/flutter-waves-routing.module.ts","./src/app/flutter-waves/flutter-waves.module.ts","./src/app/flutter-waves/flutter-waves.page.scss","./src/app/flutter-waves/flutter-waves.page.ts"],"names":[],"mappings":"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","file":"flutter-waves-flutter-waves-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { FlutterWavesPage } from './flutter-waves.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: FlutterWavesPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class FlutterWavesPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { FlutterWavesPageRoutingModule } from './flutter-waves-routing.module';\n\nimport { FlutterWavesPage } from './flutter-waves.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    FlutterWavesPageRoutingModule\n  ],\n  declarations: [FlutterWavesPage]\n})\nexport class FlutterWavesPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2ZsdXR0ZXItd2F2ZXMvZmx1dHRlci13YXZlcy5wYWdlLnNjc3MifQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Route, Router } from '@angular/router';\nimport { ToastController, LoadingController, MenuController } from '@ionic/angular';\nimport { Storage } from '@ionic/storage';\nimport { AsyncPaymentOptions, Flutterwave, PaymentSuccessResponse } from 'flutterwave-angular-v3';\nimport { RestService } from '../rest.service';\n\n@Component({\n  selector: 'app-flutter-waves',\n  // templateUrl: './flutter-waves.page.html',\n  template:  ` <button (click)=\"payViaPromise()\" >Pay via Promise </button>`,\n  styleUrls: ['./flutter-waves.page.scss'],\n})\nexport class FlutterWavesPage implements OnInit {\n\n  constructor(public toastController:ToastController,\n\n    private flutterwave: Flutterwave,\n\n    public loadingController: LoadingController,private storage: Storage,\n    public restService:RestService,public activatedRoute:ActivatedRoute,\n    public router:Router,public menuCtrl: MenuController) { }\n    response: any;\n    booking_details: any;\n    base_url: any;\n    booking_id:any;\n    trip_cost:number=77;\n    wallet_amount:any\n    userID:any;\n    Email:any;\n    name:any;\n    date:any='';\n\n    publicKey = \"FLWPUBK_TEST-24a82587c83dda8d3c3a9ea64dd6e405-X\";\n \n    customerDetails = { name: '', email: '', phone_number: ''}\n     \n    customizations = {title: 'TransUS', description: 'Pay now for confrim your booking', logo: 'https://flutterwave.com/images/logo-colored.svg'}\n   \n    meta = {'counsumer_id': '7898', 'consumer_mac': 'kjs9s8ss7dd'}\n  \n\n    paymentData : AsyncPaymentOptions = {\n      public_key: this.publicKey,\n      tx_ref: this.generateReference(),\n      amount: this.trip_cost,\n      currency: 'NGN',\n      payment_options: 'card',\n      meta: this.meta,\n      customer: this.customerDetails,\n      customizations: this.customizations,\n     }\n\n  ngOnInit() {\n    this.activatedRoute.queryParams.subscribe((res)=>{\n      this.response = JSON.parse(res.value);\n      console.log(this.response);\n      this.booking_details =  this.response.booking_details;\n      this.trip_cost = parseInt(this.booking_details.trip_cost);\n      this.booking_id = this.booking_details.bookings_id;\n      console.log(this.trip_cost);\n      this.storage.get('user_details').then((user_details) => {\n        console.log(user_details);\n        this.wallet_amount = user_details.wallet_amount;\n        this.userID = user_details.users_id;\n          this.Email = user_details.email;\n          this.name = user_details.user_name\n\n          this.customerDetails.name = this.name;\n          this.customerDetails.email = this.Email;\n          this.date = new Date();\n           this.date.getTime().toString();\n          console.log(this.customerDetails)\n\n      });\n      /*var date1 = new Date(this.booking_details.start_date); \n      var date2 = new Date(this.booking_details.end_date);\n      var Difference_In_Time = date2.getTime() - date1.getTime(); \n  \n      // To calculate the no. of days between two dates \n      var Difference_In_Days = Difference_In_Time / (1000 * 3600 * 24); \n        console.log('dieffernce in days: '+Difference_In_Days);*/\n  });\n  }\n  getRespo:any;\n  payViaPromise() {\n    this.flutterwave.asyncInlinePay(this.paymentData).then(\n      (response) =>{\n        console.log(\"Promise Res line 88\" , response)\n        this.getRespo = response;\n        this.flutterwave.closePaymentModal(5);\n        if(this.getRespo.status == \"successful\"){\n\n        }\n      }\n    )\n  }\n\n  makePaymentCallback(response: PaymentSuccessResponse): void {\n    console.log(\"Pay\", response);\n    this.flutterwave.closePaymentModal(5)\n  }\n  closedPaymentModal(): void {\n    console.log('payment is closed');\n  }\n  generateReference(): string {\n    let date = new Date();\n    return date.getTime().toString();\n  }\n\n}\n"],"sourceRoot":"webpack:///"}